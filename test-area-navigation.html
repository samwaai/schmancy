<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Area Navigation</title>
    <script type="module">
        import './dist/area.js';

        // Define test components
        class TestHome extends HTMLElement {
            connectedCallback() {
                this.innerHTML = '<h1>Home</h1>';
            }
        }
        customElements.define('test-home', TestHome);

        class TestAbout extends HTMLElement {
            connectedCallback() {
                this.innerHTML = '<h1>About</h1>';
            }
        }
        customElements.define('test-about', TestAbout);

        // Import area service
        import area from './dist/area.js';

        // Test navigation
        window.testNavigation = () => {
            // Navigate to about
            area.push({
                area: 'main',
                component: 'test-about'
            });

            console.log('Navigated to About');

            setTimeout(() => {
                // Navigate to home
                area.push({
                    area: 'main',
                    component: 'test-home'
                });
                console.log('Navigated to Home');

                setTimeout(() => {
                    console.log('Test browser back button to return to About');
                }, 1000);
            }, 2000);
        };
    </script>
</head>
<body>
    <h1>Area Navigation Test</h1>
    <button onclick="testNavigation()">Start Navigation Test</button>

    <schmancy-area name="main" default="test-home">
        <schmancy-route when="test-home" component="test-home"></schmancy-route>
        <schmancy-route when="test-about" component="test-about"></schmancy-route>
    </schmancy-area>

    <p>Instructions:</p>
    <ol>
        <li>Click "Start Navigation Test"</li>
        <li>Watch as it navigates from Home → About → Home</li>
        <li>Use browser back button to go back to About</li>
        <li>The navigation should work correctly without errors</li>
    </ol>
</body>
</html>